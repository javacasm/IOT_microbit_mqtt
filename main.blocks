<xml xmlns="https://developers.google.com/blockly/xml"><variables><variable id="[XYN6^[p$;!3il_aN@F;">message</variable><variable id="SXaDa=+mAlaRdDTe|wsH">nombre</variable><variable id="E5:A$L|Q5~}TFwe6~M|T">envios</variable></variables><block type="pxt-on-start" id="~f(TZ8vA41#}eoo!y~;E" x="0" y="0"><statement name="HANDLER"><block type="variables_set" id=")zn8=]$K64/I]C#j`eTk"><field name="VAR" id="SXaDa=+mAlaRdDTe|wsH">nombre</field><value name="VALUE"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="M:.j)HAP9FBH#UPhlp$t"><field name="TEXT">IOTbit01</field></block></value><next><block type="OLED_init" id="yz1,..:T_cpO*9DE3~f*"><value name="width"><shadow type="math_number" id="3%xpLYW70d(_8eL|;W19"><field name="NUM">128</field></shadow></value><value name="height"><shadow type="math_number" id=",Wdq6#k5o2n*6f(}Wac$"><field name="NUM">64</field></shadow></value><next><block type="device_show_number" id="WVC^h{8*cz?RLLGQ{A3^"><value name="number"><shadow type="math_number" id="04Yi9`}!R]{iXfm95U?x"><field name="NUM">0</field></shadow></value><next><block type="OLED_writeStringNewLine" id="%VU2oX-t$._2X$L+jT_v"><value name="str"><shadow type="text" id="[eaXCSB`$5gV;,aY{|[c"><field name="TEXT">IOT:bit 0.4</field></shadow></value><next><block type="ESP8266_IoT_initWIFI" id="ne?3TzWt4}z_q0kThUk7"><field name="tx">SerialPin.P8</field><field name="rx">SerialPin.P12</field><field name="baudrate">BaudRate.BaudRate115200</field><next><block type="device_show_number" id="%9DF_vbwV@%u|fz.e4n}"><value name="number"><shadow type="math_number" id="fpEVHl1B5}36|HsSg^xk"><field name="NUM">1</field></shadow></value><next><block type="ESP8266_IoT_connectWifi" id="C2[*)af*slE_#!CvLiT["><value name="ssid"><shadow type="text" id="HqYLu$yGyx;a$:aK1xh`"><field name="TEXT">OpenWrt</field></shadow></value><value name="pw"><shadow type="text" id="A|,`y_!QA7Tobas;H(L9"><field name="TEXT">qazxcvbgtrewsdf</field></shadow></value><next><block type="OLED_writeStringNewLine" id="-7H@2ZD7S7|5j1y-,@MH"><value name="str"><shadow type="text" id="~5[YDKJi(gx|,y,Vh3oF"><field name="TEXT">Wifi ok</field></shadow></value><next><block type="device_show_number" id="JY8z![!_K3+Ucw5T-ipY"><value name="number"><shadow type="math_number" id="V0E12b_%CxI`CqNKzJu}"><field name="NUM">2</field></shadow></value><next><block type="initMQTT" id="nNuuSP7,jMv3JtRLYRn6"><field name="scheme">ESP8266_IoT.SchemeList.TCP</field><value name="clientID"><block type="variables_get" id="LFFJ(|ncPqJv}24H_WA+"><field name="VAR" id="SXaDa=+mAlaRdDTe|wsH">nombre</field></block></value><value name="username"><shadow type="text" id="U-?dFxyr,Z$P)|Y3)J:_"><field name="TEXT"></field></shadow></value><value name="password"><shadow type="text" id="mfg8(i1nBOHp~rxg#zYd"><field name="TEXT"></field></shadow></value><value name="path"><shadow type="text" id="A$lRoez]xL{3P7!OJ#ZS"><field name="TEXT"></field></shadow></value><next><block type="device_show_number" id="[XdE*klT#hW5*:4j[$2b"><value name="number"><shadow type="math_number" id="1hLVI0JRoKX9k2k#r/zL"><field name="NUM">3</field></shadow></value><next><block type="connectMQTT" id="=)GPfd3i1u-#({80u9~H"><value name="host"><shadow type="text" id=")kRkh,tz.({_wcvZ/Bg?"><field name="TEXT">192.168.1.100</field></shadow></value><value name="port"><shadow type="math_number" id="Hv}/DFUab{d`-IsoUiOj"><field name="NUM">1883</field></shadow></value><value name="reconnect"><shadow type="logic_boolean" id="dNYWFoW!?:Vcl$mbW,?="><field name="BOOL">TRUE</field></shadow></value><next><block type="device_show_number" id="48dp{eCt[W=T]tl1iptd"><value name="number"><shadow type="math_number" id=":DBKjbOjvZaFy5n*fibF"><field name="NUM">4</field></shadow></value></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></next></block></statement></block><block type="function_definition" id="+,@0t%n7N?}YTwaNoCc^" x="764" y="50"><mutation name="enviaDatos" functionid="/qDWPwSuTPQqS~D!Vtcp"></mutation><field name="function_name">enviaDatos</field><statement name="STACK"><block type="controls_if" id="Sbtl.^UY*|W*C1Ml2eTL"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="ESP8266_IoT_isMqttBrokerConnected" id="f|{xq]wVyi5|l8@uGZUQ"></block></value><statement name="DO0"><block type="sendMQTT" id="%VBu1#=BC:$Ff1@s|fl["><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="msg"><block type="variable_to_text" id="{A.DO7X(jh~dDUl=#269"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readtemp" id="lA#.Cn7ze)^6r!Qk}?r{"><field name="tmp36type">TMP36Type.TMP36_temperature_C</field><field name="temppin">AnalogPin.P2</field></block></value></block></value><value name="topic"><block type="text_join" id="ulujL%{U#6W.cWbR^J|X"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="e%OP-p3sdv(ePp2,#j$z"><field name="VAR" id="SXaDa=+mAlaRdDTe|wsH">nombre</field></block></value><value name="ADD1"><shadow type="text" id="l)KlszZ*(OyCTreo|`VM"><field name="TEXT">/Temp</field></shadow></value></block></value><next><block type="sendMQTT" id="#mC:[?IUl-o`y)07uK_H"><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="msg"><block type="variable_to_text" id="p)d*,.}h=7Y@a9f*ot6Z"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readlightintensity" id="U3`!f~n5!FkP9|u(|tL9"><field name="lightintensitypin">AnalogPin.P1</field></block></value></block></value><value name="topic"><block type="text_join" id="m.jiGFK(V`=J*vEOzpW+"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="ByT29ihaJPp5FeFMAkOx"><field name="VAR" id="SXaDa=+mAlaRdDTe|wsH">nombre</field></block></value><value name="ADD1"><shadow type="text" id="/MCi%=qPj(b`h`g(~(x,"><field name="TEXT">/Luz</field></shadow></value></block></value><next><block type="variables_change" id="/(4yf%~8nu;*=OtOZ%Qo"><field name="VAR" id="E5:A$L|Q5~}TFwe6~M|T">envios</field><value name="VALUE"><shadow type="math_number" id="f/oa0!=Sp@0!P3[@0Hi;"><field name="NUM">1</field></shadow></value><next><block type="sendMQTT" id="31iZNeyJYD-Q6rM-Z_z."><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="msg"><block type="variable_to_text" id="$HB,0d2mmk]x~6)K#$S@"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="R%zhFG[Ju)_gB}e]2UQ."><field name="VAR" id="E5:A$L|Q5~}TFwe6~M|T">envios</field></block></value></block></value><value name="topic"><block type="text_join" id="`%3zA+oD8$YS.GBI6Hbs"><mutation items="2"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="variables_get" id="0v/i_;1d,[EUqX|:?lI{"><field name="VAR" id="SXaDa=+mAlaRdDTe|wsH">nombre</field></block></value><value name="ADD1"><shadow type="text" id="Cl4{i}OPQyCB*AA!@A._"><field name="TEXT">/envios</field></shadow></value></block></value><next><block type="OLED_writeStringNewLine" id="JTi|E2-_p~d#Id[U-o|~"><value name="str"><block type="text_join" id="y|2=(=JNe$00YxEVA%2/" inline="false"><mutation items="6"></mutation><value name="ADD0"><shadow type="text" id="5N`VnV?^@%89Qrn+}gvy"><field name="TEXT">T:</field></shadow></value><value name="ADD1"><shadow type="text"><field name="TEXT"></field></shadow><block type="variable_to_text" id="Wu3~5{M~o(-DYUkx@k|`"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="readtemp" id="#Z!9*MBeFc7=@fjvjk%;"><field name="tmp36type">TMP36Type.TMP36_temperature_C</field><field name="temppin">AnalogPin.P2</field></block></value></block></value><value name="ADD2"><shadow type="text" id="e|:2U3Lvx8u++;{R$%o?"><field name="TEXT"> l:</field></shadow></value><value name="ADD3"><shadow type="text"><field name="TEXT"></field></shadow><block type="text_join" id="+Nyf8)piyiQk38EW+85m"><mutation items="1"></mutation><value name="ADD0"><shadow type="text"><field name="TEXT"></field></shadow><block type="readlightintensity" id="ut$?M0qvh1Mzt0F1;W#i"><field name="lightintensitypin">AnalogPin.P1</field></block></value></block></value><value name="ADD4"><shadow type="text" id="EuE!I$hbBL~[Cu|#a@8~"><field name="TEXT"> e:</field></shadow></value><value name="ADD5"><shadow type="text"><field name="TEXT"></field></shadow><block type="variable_to_text" id="nS[_RA=`c_K79wwz;zYm"><value name="value"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="}i/6/?7beI@aZ9%Vx7Nq"><field name="VAR" id="E5:A$L|Q5~}TFwe6~M|T">envios</field></block></value></block></value></block></value><next><block type="basic_show_icon" id="R5ce^5BOYMb%s!XF*U*{"><field name="i">IconNames.Heart</field></block></next></block></next></block></next></block></next></block></next></block></statement><statement name="ELSE"><block type="basic_show_icon" id="qYGc24Z1|FPsHAIu{V+["><field name="i">IconNames.Skull</field><next><block type="OLED_writeStringNewLine" id="fm[k-4RciA9K^}@^_C}Y"><value name="str"><shadow type="text" id="O?R6J~W+c|p^a%WbAO)R"><field name="TEXT">Error MQTT</field></shadow></value></block></next></block></statement></block></statement></block><block type="device_button_event" id="{!bp]Eu^Qck6*Jkd}=39" x="896" y="759"><field name="NAME">Button.A</field><statement name="HANDLER"><block type="function_call" id="o?QvS0@8udNp.[(@ouM5"><mutation name="enviaDatos" functionid="/qDWPwSuTPQqS~D!Vtcp"></mutation></block></statement></block><block type="ESP8266_IoT_MqttEvent" id="q!ZAn}PLSH`KmVTPR!hh" x="-61" y="949"><field name="qos">ESP8266_IoT.QosList.Qos0</field><value name="topic"><shadow type="text" id="?w5Bl3xP=SOXnzP(e6{X"><field name="TEXT">IOTbit01/rele</field></shadow></value><value name="HANDLER_DRAG_PARAM_message"><shadow type="variables_get_reporter" id="Ic$Uk.*HK[yO_I%TCHUR"><field name="VAR" id="[XYN6^[p$;!3il_aN@F;">message</field></shadow></value><statement name="HANDLER"><block type="controls_if" id=";aU9^O5:ZMciSf{wc.Cv"><mutation else="1"></mutation><value name="IF0"><shadow type="logic_boolean"><field name="BOOL">TRUE</field></shadow><block type="logic_compare" id="+Kfc%/vI?F0~ZHsa(PB?"><field name="OP">EQ</field><value name="A"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="variables_get" id="a;{ydJv/4+59W[RQzB-7"><field name="VAR" id="[XYN6^[p$;!3il_aN@F;">message</field></block></value><value name="B"><shadow type="math_number"><field name="NUM">0</field></shadow><block type="text" id="S~+6E9326)oKi=S|Qi.;"><field name="TEXT">On</field></block></value></block></value><statement name="DO0"><block type="Relay" id="YC/@cJt~Cl3O^V#n@V/P"><field name="pin">DigitalPin.P16</field><field name="Relaystate">smarthome.RelayStateList.Off</field><next><block type="OLED_writeStringNewLine" id="d!cXOsjg$)6!v;hP%wyj"><value name="str"><shadow type="text" id="Kc6(V,d,m5UNLy50@HaN"><field name="TEXT">Rele On</field></shadow></value></block></next></block></statement><statement name="ELSE"><block type="Relay" id="hVT}_V!?[6W3NrE_y5e0"><field name="pin">DigitalPin.P16</field><field name="Relaystate">smarthome.RelayStateList.On</field><next><block type="OLED_writeStringNewLine" id="GxD{WUqZ]v!:!k+JJ[H2"><value name="str"><shadow type="text" id="p=~%![d*{DU:Hz@X)w-;"><field name="TEXT">Rele Off</field></shadow></value></block></next></block></statement></block></statement></block><block type="every_interval" id="8.gsV]0(#n9${GopDna!" x="650" y="941"><value name="interval"><shadow type="longTimePicker" id="/:iGmmcQNTReIMuyjY`l"><field name="ms">60000</field></shadow></value><statement name="HANDLER"><block type="function_call" id="tv#)%Fo6/r#}l@kWL`dp"><mutation name="enviaDatos" functionid="/qDWPwSuTPQqS~D!Vtcp"></mutation></block></statement></block></xml>